## 3.2ã€€ä½¿ç”¨ requests

ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº† urllib çš„åŸºæœ¬ç”¨æ³•ï¼Œä½†æ˜¯å…¶ä¸­ç¡®å®æœ‰ä¸æ–¹ä¾¿çš„åœ°æ–¹ï¼Œæ¯”å¦‚å¤„ç†ç½‘é¡µéªŒè¯å’Œ Cookies æ—¶ï¼Œéœ€è¦å†™ Opener å’Œ Handler æ¥å¤„ç†ã€‚ä¸ºäº†æ›´åŠ æ–¹ä¾¿åœ°å®ç°è¿™äº›æ“ä½œï¼Œå°±æœ‰äº†æ›´ä¸ºå¼ºå¤§çš„åº“ requestsï¼Œæœ‰äº†å®ƒï¼ŒCookiesã€ç™»å½•éªŒè¯ã€ä»£ç†è®¾ç½®ç­‰æ“ä½œéƒ½ä¸æ˜¯äº‹å„¿ã€‚

æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬é¢†ç•¥ä¸€ä¸‹å®ƒçš„å¼ºå¤§ä¹‹å¤„å§ã€‚

### 3.2.1ã€€åŸºæœ¬ç”¨æ³•

#### 1. å‡†å¤‡å·¥ä½œ
åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²ç»æ­£ç¡®å®‰è£…å¥½äº† requests åº“ã€‚å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œå¯ä»¥å‚è€ƒ 1.2.1 èŠ‚å®‰è£…ã€‚

#### 2. å®ä¾‹å¼•å…¥
urllib åº“ä¸­çš„ urlopen æ–¹æ³•å®é™…ä¸Šæ˜¯ä»¥ GET æ–¹å¼è¯·æ±‚ç½‘é¡µï¼Œè€Œ requests ä¸­ç›¸åº”çš„æ–¹æ³•å°±æ˜¯ get æ–¹æ³•ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰è¡¨è¾¾æ›´æ˜ç¡®ä¸€äº›ï¼Ÿä¸‹é¢é€šè¿‡å®ä¾‹æ¥çœ‹ä¸€ä¸‹ï¼š

```python
import requests  

r = requests.get('https://www.baidu.com/')  
print(type(r))  
print(r.status_code)  
print(type(r.text))  
print(r.text)  
print(r.cookies)
```
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
```python
<class 'requests.models.Response'>
200
<class'str'>
<html>
<head>
<script>
location.replace(location.href.replace("https://","http://"));
</script>
</head>
<body>
<noscript><meta http-equiv="refresh" content="0;url=http://www.baidu.com/"></noscript>
</body>
</html>
<RequestsCookieJar[<Cookie BIDUPSID=992C3B26F4C4D09505C5E959D5FBC005 for .baidu.com/>, <Cookie
PSTM=1472227535 for .baidu.com/>, <Cookie __bsi=15304754498609545148_00_40_N_N_2_0303_C02F_N_N_N_0
for .www.baidu.com/>, <Cookie BD_NOT_HTTPS=1 for www.baidu.com/>]>
```

è¿™é‡Œæˆ‘ä»¬è°ƒç”¨ get æ–¹æ³•å®ç°ä¸ urlopen ç›¸åŒçš„æ“ä½œï¼Œå¾—åˆ°ä¸€ä¸ª Response å¯¹è±¡ï¼Œç„¶ååˆ†åˆ«è¾“å‡ºäº† Response çš„ç±»å‹ã€çŠ¶æ€ç ã€å“åº”ä½“çš„ç±»å‹ã€å†…å®¹ä»¥åŠ Cookiesã€‚

é€šè¿‡è¿è¡Œç»“æœå¯ä»¥å‘ç°ï¼Œå®ƒçš„è¿”å›ç±»å‹æ˜¯ requests.models.Responseï¼Œå“åº”ä½“çš„ç±»å‹æ˜¯å­—ç¬¦ä¸² strï¼ŒCookies çš„ç±»å‹æ˜¯ RequestsCookieJarã€‚

ä½¿ç”¨ get æ–¹æ³•æˆåŠŸå®ç°ä¸€ä¸ª GET è¯·æ±‚ï¼Œè¿™å€’ä¸ç®—ä»€ä¹ˆï¼Œæ›´æ–¹ä¾¿ä¹‹å¤„åœ¨äºå…¶ä»–çš„è¯·æ±‚ç±»å‹ä¾ç„¶å¯ä»¥ç”¨ä¸€å¥è¯æ¥å®Œæˆï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```
r = requests.post('http://httpbin.org/post')  
r = requests.put('http://httpbin.org/put')  
r = requests.delete('http://httpbin.org/delete')  
r = requests.head('http://httpbin.org/get')  
r = requests.options('http://httpbin.org/get')
```

è¿™é‡Œåˆ†åˆ«ç”¨ postã€putã€delete ç­‰æ–¹æ³•å®ç°äº† POSTã€PUTã€DELETE ç­‰è¯·æ±‚ã€‚æ˜¯ä¸æ˜¯æ¯” urllib ç®€å•å¤ªå¤šäº†ï¼Ÿ

å…¶å®è¿™åªæ˜¯å†°å±±ä¸€è§’ï¼Œæ›´å¤šçš„è¿˜åœ¨åé¢ã€‚

#### 3. GET è¯·æ±‚
HTTP ä¸­æœ€å¸¸è§çš„è¯·æ±‚ä¹‹ä¸€å°±æ˜¯ GET è¯·æ±‚ï¼Œä¸‹é¢é¦–å…ˆæ¥è¯¦ç»†äº†è§£ä¸€ä¸‹åˆ©ç”¨ requests æ„å»º GET è¯·æ±‚çš„æ–¹æ³•ã€‚

##### åŸºæœ¬å®ä¾‹
é¦–å…ˆï¼Œæ„å»ºä¸€ä¸ªæœ€ç®€å•çš„ GET è¯·æ±‚ï¼Œè¯·æ±‚çš„é“¾æ¥ä¸º [http://httpbin.org/get]([http://httpbin.org/get)ï¼Œè¯¥ç½‘ç«™ä¼šåˆ¤æ–­å¦‚æœå®¢æˆ·ç«¯å‘èµ·çš„æ˜¯ GET è¯·æ±‚çš„è¯ï¼Œå®ƒè¿”å›ç›¸åº”çš„è¯·æ±‚ä¿¡æ¯ï¼š

```
import requests  

r = requests.get('http://httpbin.org/get')  
print(r.text)

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

{"args": {},   
  "headers": {  
    "Accept": "*/*",   
    "Accept-Encoding": "gzip, deflate",   
    "Host": "httpbin.org",   
    "User-Agent": "python-requests/2.10.0"  
  },   
  "origin": "122.4.215.33",   
  "url": "http://httpbin.org/get"  
}
```

å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬æˆåŠŸå‘èµ·äº† GET è¯·æ±‚ï¼Œè¿”å›ç»“æœä¸­åŒ…å«è¯·æ±‚å¤´ã€URLã€IP ç­‰ä¿¡æ¯ã€‚

é‚£ä¹ˆï¼Œå¯¹äº GET è¯·æ±‚ï¼Œå¦‚æœè¦é™„åŠ é¢å¤–çš„ä¿¡æ¯ï¼Œä¸€èˆ¬æ€æ ·æ·»åŠ å‘¢ï¼Ÿæ¯”å¦‚ç°åœ¨æƒ³æ·»åŠ ä¸¤ä¸ªå‚æ•°ï¼Œå…¶ä¸­ name æ˜¯ germeyï¼Œage æ˜¯ 22ã€‚è¦æ„é€ è¿™ä¸ªè¯·æ±‚é“¾æ¥ï¼Œæ˜¯ä¸æ˜¯è¦ç›´æ¥å†™æˆï¼š

```python
r = requests.get('http://httpbin.org/get?name=germey&age=22')
```

è¿™æ ·ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯æ˜¯ä¸æ˜¯æœ‰ç‚¹ä¸äººæ€§åŒ–å‘¢ï¼Ÿä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™ç§ä¿¡æ¯æ•°æ®ä¼šç”¨å­—å…¸æ¥å­˜å‚¨ã€‚é‚£ä¹ˆï¼Œæ€æ ·æ¥æ„é€ è¿™ä¸ªé“¾æ¥å‘¢ï¼Ÿ

è¿™åŒæ ·å¾ˆç®€å•ï¼Œåˆ©ç”¨ params è¿™ä¸ªå‚æ•°å°±å¥½äº†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests  

data = {  
    'name': 'germey',  
    'age': 22  
}  
r = requests.get("http://httpbin.org/get", params=data)  
print(r.text)
```
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
```json
{  
  "args": {  
    "age": "22",   
    "name": "germey"  
  },   
  "headers": {  
    "Accept": "*/*",   
    "Accept-Encoding": "gzip, deflate",   
    "Host": "httpbin.org",   
    "User-Agent": "python-requests/2.10.0"  
  },   
  "origin": "122.4.215.33",   
  "url": "http://httpbin.org/get?age=22&name=germey"  
}
```

é€šè¿‡è¿”å›ä¿¡æ¯æˆ‘ä»¬å¯ä»¥åˆ¤æ–­ï¼Œè¯·æ±‚çš„é“¾æ¥è‡ªåŠ¨è¢«æ„é€ æˆäº†ï¼š[http://httpbin.org/get?age=22&name=germey](http://httpbin.org/get?age=22&name=germey)ã€‚

å¦å¤–ï¼Œç½‘é¡µçš„è¿”å›ç±»å‹å®é™…ä¸Šæ˜¯ str ç±»å‹ï¼Œä½†æ˜¯å®ƒå¾ˆç‰¹æ®Šï¼Œæ˜¯ JSON æ ¼å¼çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœæƒ³ç›´æ¥è§£æè¿”å›ç»“æœï¼Œå¾—åˆ°ä¸€ä¸ªå­—å…¸æ ¼å¼çš„è¯ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ json æ–¹æ³•ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š

```
import requests  

r = requests.get("http://httpbin.org/get")  
print(type(r.text))  
print(r.json())  
print(type(r.json()))
```
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
```python
<class'str'>
{'headers': {'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Host': 'httpbin.org', 'User-Agent': 'python-requests/2.10.0'}, 'url': 'http://httpbin.org/get', 'args': {}, 'origin': '182.33.248.131'}
<class 'dict'>
```

å¯ä»¥å‘ç°ï¼Œè°ƒç”¨ json æ–¹æ³•ï¼Œå°±å¯ä»¥å°†è¿”å›ç»“æœæ˜¯ JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå­—å…¸ã€‚

ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¿”å›ç»“æœä¸æ˜¯ JSON æ ¼å¼ï¼Œä¾¿ä¼šå‡ºç°è§£æé”™è¯¯ï¼ŒæŠ›å‡º json.decoder.JSONDecodeError å¼‚å¸¸ã€‚

##### æŠ“å–ç½‘é¡µ
ä¸Šé¢çš„è¯·æ±‚é“¾æ¥è¿”å›çš„æ˜¯ JSON å½¢å¼çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå¦‚æœè¯·æ±‚æ™®é€šçš„ç½‘é¡µï¼Œåˆ™è‚¯å®šèƒ½è·å¾—ç›¸åº”çš„å†…å®¹äº†ã€‚ä¸‹é¢ä»¥ â€œçŸ¥ä¹â€â†’â€œå‘ç°â€ é¡µé¢ä¸ºä¾‹æ¥çœ‹ä¸€ä¸‹ï¼š
â—ï¸
```
import requests
import re

headers = {'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36'
}
r = requests.get("https://www.zhihu.com/explore", headers=headers)
pattern = re.compile('explore-feed.*?question_link.*?>(.*?)</a>', re.S)
titles = re.findall(pattern, r.text)
print(titles)
```

è¿™é‡Œæˆ‘ä»¬åŠ å…¥äº† headers ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…å«äº† User-Agent å­—æ®µä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨æ ‡è¯†ä¿¡æ¯ã€‚å¦‚æœä¸åŠ è¿™ä¸ªï¼ŒçŸ¥ä¹ä¼šç¦æ­¢æŠ“å–ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨åˆ°äº†æœ€åŸºç¡€çš„æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…å‡ºæ‰€æœ‰çš„é—®é¢˜å†…å®¹ã€‚å…³äºæ­£åˆ™è¡¨è¾¾å¼çš„ç›¸å…³å†…å®¹ï¼Œæˆ‘ä»¬ä¼šåœ¨ 3.3 èŠ‚ä¸­è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œä½œä¸ºå®ä¾‹æ¥é…åˆè®²è§£ã€‚

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```
['\n ä¸ºä»€ä¹ˆå¾ˆå¤šäººå–œæ¬¢æåŠã€Œæ‹‰ä¸è¯­ç³»ã€è¿™ä¸ªè¯ï¼Ÿ\n', '\n åœ¨æ²¡æœ‰æ°´çš„æƒ…å†µä¸‹æ°´ç³»å®å¯æ¢¦å¦‚ä½•æˆ˜æ–—ï¼Ÿ\n', '\n æœ‰å“ªäº›ç»éªŒå¯ä»¥é€ç»™ Kindle æ–°äººï¼Ÿ\n', '\n è°·æ­Œçš„å¹¿å‘Šä¸šåŠ¡æ˜¯å¦‚ä½•èµšé’±çš„ï¼Ÿ\n', '\n ç¨‹åºå‘˜è¯¥å­¦ä¹ ä»€ä¹ˆï¼Œèƒ½åœ¨ä¸Šå­¦æœŸé—´æŒ£é’±ï¼Ÿ\n', '\n æœ‰å“ªäº›åŸæœ¬åªæ˜¯ä¸€ä¸ªå°æ¶ˆæ¯ï¼Œä½†å›çœ‹å‘ç°æ˜¯ä¸ªæƒŠå¤©å¤§æ–°é—»çš„ä¾‹å­ï¼Ÿ\n', '\n å¦‚ä½•è¯„ä»·ä»Šæ•ï¼Ÿ\n', '\n æºæ°æ˜¯æ€ä¹ˆæŠŠé‚£ä¹ˆé•¿çš„åˆ€ä»èƒŒåæ‹”å‡ºæ¥çš„ï¼Ÿ\n', '\n å¹´è½»æ—¶å¾—äº†ç»ç—‡æˆ–å¤§ç—…æ˜¯æ€æ ·çš„æ„Ÿå—ï¼Ÿ\n', '\n å¹´è½»æ—¶å¾—äº†ç»ç—‡æˆ–å¤§ç—…æ˜¯æ€æ ·çš„æ„Ÿå—ï¼Ÿ\n']
```

æˆ‘ä»¬å‘ç°ï¼Œè¿™é‡ŒæˆåŠŸæå–å‡ºäº†æ‰€æœ‰çš„é—®é¢˜å†…å®¹ã€‚

##### æŠ“å–äºŒè¿›åˆ¶æ•°æ®

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠ“å–çš„æ˜¯çŸ¥ä¹çš„ä¸€ä¸ªé¡µé¢ï¼Œå®é™…ä¸Šå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ª HTML æ–‡æ¡£ã€‚å¦‚æœæƒ³æŠ“å–å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰æ–‡ä»¶ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ

å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘è¿™äº›æ–‡ä»¶æœ¬è´¨ä¸Šéƒ½æ˜¯ç”±äºŒè¿›åˆ¶ç ç»„æˆçš„ï¼Œç”±äºæœ‰ç‰¹å®šçš„ä¿å­˜æ ¼å¼å’Œå¯¹åº”çš„è§£ææ–¹å¼ï¼Œæˆ‘ä»¬æ‰å¯ä»¥çœ‹åˆ°è¿™äº›å½¢å½¢è‰²è‰²çš„å¤šåª’ä½“ã€‚æ‰€ä»¥ï¼Œæƒ³è¦æŠ“å–å®ƒä»¬ï¼Œå°±è¦æ‹¿åˆ°å®ƒä»¬çš„äºŒè¿›åˆ¶ç ã€‚

ä¸‹é¢ä»¥ GitHub çš„ç«™ç‚¹å›¾æ ‡ä¸ºä¾‹æ¥çœ‹ä¸€ä¸‹ï¼š

```python
import requests

r = requests.get("https://github.com/favicon.ico")
print(r.text)
print(r.content)
```

è¿™é‡ŒæŠ“å–çš„å†…å®¹æ˜¯ç«™ç‚¹å›¾æ ‡ï¼Œä¹Ÿå°±æ˜¯åœ¨æµè§ˆå™¨æ¯ä¸€ä¸ªæ ‡ç­¾ä¸Šæ˜¾ç¤ºçš„å°å›¾æ ‡ï¼Œå¦‚å›¾ 3-3 æ‰€ç¤ºã€‚

![](/assets/3-3.png)

å›¾ 3-3ã€€ç«™ç‚¹å›¾æ ‡

è¿™é‡Œæ‰“å°äº† Response å¯¹è±¡çš„ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯ textï¼Œå¦ä¸€ä¸ªæ˜¯ contentã€‚

è¿è¡Œç»“æœå¦‚å›¾ 3-4 æ‰€ç¤ºï¼Œå…¶ä¸­å‰ä¸¤è¡Œæ˜¯ r.text çš„ç»“æœï¼Œæœ€åä¸€è¡Œæ˜¯ r.content çš„ç»“æœã€‚

![](/assets/3-4.png)

å›¾ 3-4ã€€è¿è¡Œç»“æœ

å¯ä»¥æ³¨æ„åˆ°ï¼Œå‰è€…å‡ºç°äº†ä¹±ç ï¼Œåè€…ç»“æœå‰å¸¦æœ‰ä¸€ä¸ª bï¼Œè¿™ä»£è¡¨æ˜¯ bytes ç±»å‹çš„æ•°æ®ã€‚ç”±äºå›¾ç‰‡æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œæ‰€ä»¥å‰è€…åœ¨æ‰“å°æ—¶è½¬åŒ–ä¸º str ç±»å‹ï¼Œä¹Ÿå°±æ˜¯å›¾ç‰‡ç›´æ¥è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œè¿™ç†æ‰€å½“ç„¶ä¼šå‡ºç°ä¹±ç ã€‚

æ¥ç€ï¼Œæˆ‘ä»¬å°†åˆšæ‰æå–åˆ°çš„å›¾ç‰‡ä¿å­˜ä¸‹æ¥ï¼š

```python
import requests

r = requests.get("https://github.com/favicon.ico")
with open('favicon.ico', 'wb') as f:
    f.write(r.content)
```

è¿™é‡Œç”¨äº† open æ–¹æ³•ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–‡ä»¶åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨ä»¥äºŒè¿›åˆ¶å†™çš„å½¢å¼æ‰“å¼€ï¼Œå¯ä»¥å‘æ–‡ä»¶é‡Œå†™å…¥äºŒè¿›åˆ¶æ•°æ®ã€‚

è¿è¡Œç»“æŸä¹‹åï¼Œå¯ä»¥å‘ç°åœ¨æ–‡ä»¶å¤¹ä¸­å‡ºç°äº†åä¸º favicon.ico çš„å›¾æ ‡ï¼Œå¦‚å›¾ 3-5 æ‰€ç¤ºã€‚

![](/assets/3-5.ico)

å›¾ 3-5ã€€å›¾æ ‡

åŒæ ·åœ°ï¼ŒéŸ³é¢‘å’Œè§†é¢‘æ–‡ä»¶ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹æ³•è·å–ã€‚

##### æ·»åŠ  headers
ä¸ urllib.request ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ headers å‚æ•°æ¥ä¼ é€’å¤´ä¿¡æ¯ã€‚

æ¯”å¦‚ï¼Œåœ¨ä¸Šé¢ â€œçŸ¥ä¹â€ çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä¸ä¼ é€’ headersï¼Œå°±ä¸èƒ½æ­£å¸¸è¯·æ±‚ï¼š

```python
import requests

r = requests.get("https://www.zhihu.com/explore")
print(r.text)
```
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
```html
<html><body><h1>500 Server Error</h1>
An internal server error occured.
</body></html>
```
ä½†å¦‚æœåŠ ä¸Š headers å¹¶åŠ ä¸Š User-Agent ä¿¡æ¯ï¼Œé‚£å°±æ²¡é—®é¢˜äº†ï¼š
```python
import requests

headers = {'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36'
}
r = requests.get("https://www.zhihu.com/explore", headers=headers)
print(r.text)
```

å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ headers è¿™ä¸ªå‚æ•°ä¸­ä»»æ„æ·»åŠ å…¶ä»–çš„å­—æ®µä¿¡æ¯ã€‚

#### 4. POST è¯·æ±‚

å‰é¢æˆ‘ä»¬äº†è§£äº†æœ€åŸºæœ¬çš„ GET è¯·æ±‚ï¼Œå¦å¤–ä¸€ç§æ¯”è¾ƒå¸¸è§çš„è¯·æ±‚æ–¹å¼æ˜¯ POSTã€‚ä½¿ç”¨ requests å®ç° POST è¯·æ±‚åŒæ ·éå¸¸ç®€å•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

data = {'name': 'germey', 'age': '22'}
r = requests.post("http://httpbin.org/post", data=data)
print(r.text)
```

è¿™é‡Œè¿˜æ˜¯è¯·æ±‚ [http://httpbin.org/post](http://httpbin.org/post)ï¼Œè¯¥ç½‘ç«™å¯ä»¥åˆ¤æ–­å¦‚æœè¯·æ±‚æ˜¯ POST æ–¹å¼ï¼Œå°±æŠŠç›¸å…³è¯·æ±‚ä¿¡æ¯è¿”å›ã€‚

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```json
{"args": {}, 
  "data": "","files": {},"form": {"age":"22","name":"germey"},"headers": {"Accept":"*/*","Accept-Encoding":"gzip, deflate","Content-Length":"18","Content-Type":"application/x-www-form-urlencoded","Host":"httpbin.org","User-Agent":"python-requests/2.10.0"},"json": null,"origin":"182.33.248.131","url":"http://httpbin.org/post"}```

å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬æˆåŠŸè·å¾—äº†è¿”å›ç»“æœï¼Œå…¶ä¸­ form éƒ¨åˆ†å°±æ˜¯æäº¤çš„æ•°æ®ï¼Œè¿™å°±è¯æ˜ POST è¯·æ±‚æˆåŠŸå‘é€äº†ã€‚

#### 5. å“åº”

å‘é€è¯·æ±‚åï¼Œå¾—åˆ°çš„è‡ªç„¶å°±æ˜¯å“åº”ã€‚åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ text å’Œ content è·å–äº†å“åº”çš„å†…å®¹ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå±æ€§å’Œæ–¹æ³•å¯ä»¥ç”¨æ¥è·å–å…¶ä»–ä¿¡æ¯ï¼Œæ¯”å¦‚çŠ¶æ€ç ã€å“åº”å¤´ã€Cookies ç­‰ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

r = requests.get('http://www.jianshu.com')
print(type(r.status_code), r.status_code)
print(type(r.headers), r.headers)
print(type(r.cookies), r.cookies)
print(type(r.url), r.url)
print(type(r.history), r.history)
```

è¿™é‡Œåˆ†åˆ«æ‰“å°è¾“å‡º status_code å±æ€§å¾—åˆ°çŠ¶æ€ç ï¼Œè¾“å‡º headers å±æ€§å¾—åˆ°å“åº”å¤´ï¼Œè¾“å‡º cookies å±æ€§å¾—åˆ° Cookiesï¼Œè¾“å‡º url å±æ€§å¾—åˆ° URLï¼Œè¾“å‡º history å±æ€§å¾—åˆ°è¯·æ±‚å†å²ã€‚

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```python
<class 'int'> 200
<class 'requests.structures.CaseInsensitiveDict'> {'X-Runtime': '0.006363', 'Connection': 'keep-alive', 'Content-Type': 'text/html; charset=utf-8', 'X-Content-Type-Options': 'nosniff', 'Date': 'Sat, 27 Aug 2016 17:18:51 GMT', 'Server': 'nginx', 'X-Frame-Options': 'DENY', 'Content-Encoding': 'gzip', 'Vary': 'Accept-Encoding', 'ETag': 'W/"3abda885e0e123bfde06d9b61e696159"', 'X-XSS-Protection': '1; mode=block', 'X-Request-Id': 'a8a3c4d5-f660-422f-8df9-49719dd9b5d4', 'Transfer-Encoding': 'chunked', 'Set-Cookie': 'read_mode=day; path=/, default_font=font2; path=/, _session_id=xxx; path=/; HttpOnly', 'Cache-Control': 'max-age=0, private, must-revalidate'}
<class 'requests.cookies.RequestsCookieJar'> <RequestsCookieJar[<Cookie _session_id=xxx for www.jianshu.com/>, <Cookie default_font=font2 for www.jianshu.com/>, <Cookie read_mode=day for www.jianshu.com/>]>
<class'str'> http://www.jianshu.com/
<class 'list'> []
```

å› ä¸º session_id è¿‡é•¿ï¼Œåœ¨æ­¤ç®€å†™ã€‚å¯ä»¥çœ‹åˆ°ï¼Œheaders å’Œ cookies è¿™ä¸¤ä¸ªå±æ€§å¾—åˆ°çš„ç»“æœåˆ†åˆ«æ˜¯ CaseInsensitiveDict å’Œ RequestsCookieJar ç±»å‹ã€‚

çŠ¶æ€ç å¸¸ç”¨æ¥åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸï¼Œè€Œ requests è¿˜æä¾›äº†ä¸€ä¸ªå†…ç½®çš„çŠ¶æ€ç æŸ¥è¯¢å¯¹è±¡ requests.codesï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

r = requests.get('http://www.jianshu.com')
exit() if not r.status_code == requests.codes.ok else print('Request Successfully')
```

è¿™é‡Œé€šè¿‡æ¯”è¾ƒè¿”å›ç å’Œå†…ç½®çš„æˆåŠŸçš„è¿”å›ç ï¼Œæ¥ä¿è¯è¯·æ±‚å¾—åˆ°äº†æ­£å¸¸å“åº”ï¼Œè¾“å‡ºæˆåŠŸè¯·æ±‚çš„æ¶ˆæ¯ï¼Œå¦åˆ™ç¨‹åºç»ˆæ­¢ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ requests.codes.ok å¾—åˆ°çš„æ˜¯æˆåŠŸçš„çŠ¶æ€ç  200ã€‚

é‚£ä¹ˆï¼Œè‚¯å®šä¸èƒ½åªæœ‰ ok è¿™ä¸ªæ¡ä»¶ç ã€‚ä¸‹é¢åˆ—å‡ºäº†è¿”å›ç å’Œç›¸åº”çš„æŸ¥è¯¢æ¡ä»¶ï¼š
ğŸŒŸ
```
# ä¿¡æ¯æ€§çŠ¶æ€ç   
100: ('continue',),  
101: ('switching_protocols',),  
102: ('processing',),  
103: ('checkpoint',),  
122: ('uri_too_long', 'request_uri_too_long'),  

# æˆåŠŸçŠ¶æ€ç   
200: ('ok', 'okay', 'all_ok', 'all_okay', 'all_good', '\\o/', 'âœ“'),  
201: ('created',),  
202: ('accepted',),  
203: ('non_authoritative_info', 'non_authoritative_information'),  
204: ('no_content',),  
205: ('reset_content', 'reset'),  
206: ('partial_content', 'partial'),  
207: ('multi_status', 'multiple_status', 'multi_stati', 'multiple_stati'),  
208: ('already_reported',),  
226: ('im_used',),  

# é‡å®šå‘çŠ¶æ€ç   
300: ('multiple_choices',),  
301: ('moved_permanently', 'moved', '\\o-'),  
302: ('found',),  
303: ('see_other', 'other'),  
304: ('not_modified',),  
305: ('use_proxy',),  
306: ('switch_proxy',),  
307: ('temporary_redirect', 'temporary_moved', 'temporary'),  
308: ('permanent_redirect',  
      'resume_incomplete', 'resume',), # These 2 to be removed in 3.0  

# å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç   
400: ('bad_request', 'bad'),  
401: ('unauthorized',),  
402: ('payment_required', 'payment'),  
403: ('forbidden',),  
404: ('not_found', '-o-'),  
405: ('method_not_allowed', 'not_allowed'),  
406: ('not_acceptable',),  
407: ('proxy_authentication_required', 'proxy_auth', 'proxy_authentication'),  
408: ('request_timeout', 'timeout'),  
409: ('conflict',),  
410: ('gone',),  
411: ('length_required',),  
412: ('precondition_failed', 'precondition'),  
413: ('request_entity_too_large',),  
414: ('request_uri_too_large',),  
415: ('unsupported_media_type', 'unsupported_media', 'media_type'),  
416: ('requested_range_not_satisfiable', 'requested_range', 'range_not_satisfiable'),  
417: ('expectation_failed',),  
418: ('im_a_teapot', 'teapot', 'i_am_a_teapot'),  
421: ('misdirected_request',),  
422: ('unprocessable_entity', 'unprocessable'),  
423: ('locked',),  
424: ('failed_dependency', 'dependency'),  
425: ('unordered_collection', 'unordered'),  
426: ('upgrade_required', 'upgrade'),  
428: ('precondition_required', 'precondition'),  
429: ('too_many_requests', 'too_many'),  
431: ('header_fields_too_large', 'fields_too_large'),  
444: ('no_response', 'none'),  
449: ('retry_with', 'retry'),  
450: ('blocked_by_windows_parental_controls', 'parental_controls'),  
451: ('unavailable_for_legal_reasons', 'legal_reasons'),  
499: ('client_closed_request',),  

# æœåŠ¡ç«¯é”™è¯¯çŠ¶æ€ç   
500: ('internal_server_error', 'server_error', '/o\\', 'âœ—'),  
501: ('not_implemented',),  
502: ('bad_gateway',),  
503: ('service_unavailable', 'unavailable'),  
504: ('gateway_timeout',),  
505: ('http_version_not_supported', 'http_version'),  
506: ('variant_also_negotiates',),  
507: ('insufficient_storage',),  
509: ('bandwidth_limit_exceeded', 'bandwidth'),  
510: ('not_extended',),  
511: ('network_authentication_required', 'network_auth', 'network_authentication')
```

æ¯”å¦‚ï¼Œå¦‚æœæƒ³åˆ¤æ–­ç»“æœæ˜¯ä¸æ˜¯ 404 çŠ¶æ€ï¼Œå¯ä»¥ç”¨ requests.codes.not_found æ¥æ¯”å¯¹ã€‚

### 3.2.2ã€€é«˜çº§ç”¨æ³•

åœ¨å‰ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº† requests çš„åŸºæœ¬ç”¨æ³•ï¼Œå¦‚åŸºæœ¬çš„ GETã€POST è¯·æ±‚ä»¥åŠ Response å¯¹è±¡ã€‚æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å†æ¥äº†è§£ä¸‹ requests çš„ä¸€äº›é«˜çº§ç”¨æ³•ï¼Œå¦‚æ–‡ä»¶ä¸Šä¼ ã€Cookies è®¾ç½®ã€ä»£ç†è®¾ç½®ç­‰ã€‚

#### 1. æ–‡ä»¶ä¸Šä¼ 

æˆ‘ä»¬çŸ¥é“ requests å¯ä»¥æ¨¡æ‹Ÿæäº¤ä¸€äº›æ•°æ®ã€‚å‡å¦‚æœ‰çš„ç½‘ç«™éœ€è¦ä¸Šä¼ æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å®ƒæ¥å®ç°ï¼Œè¿™éå¸¸ç®€å•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

files = {'file': open('favicon.ico', 'rb')}
r = requests.post('http://httpbin.org/post', files=files)
print(r.text)
```

åœ¨å‰ä¸€èŠ‚ä¸­æˆ‘ä»¬ä¿å­˜äº†ä¸€ä¸ªæ–‡ä»¶ favicon.icoï¼Œè¿™æ¬¡ç”¨å®ƒæ¥æ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ çš„è¿‡ç¨‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œfavicon.ico éœ€è¦å’Œå½“å‰è„šæœ¬åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚å¦‚æœæœ‰å…¶ä»–æ–‡ä»¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–æ–‡ä»¶æ¥ä¸Šä¼ ï¼Œæ›´æ”¹ä¸‹ä»£ç å³å¯ã€‚

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```json
{"args": {}, 
  "data": "","files": {"file":"data:application/octet-stream;base64,AAAAAA...="},"form": {},"headers": {"Accept":"*/*","Accept-Encoding":"gzip, deflate","Content-Length":"6665","Content-Type":"multipart/form-data; boundary=809f80b1a2974132b133ade1a8e8e058","Host":"httpbin.org","User-Agent":"python-requests/2.10.0"},"json": null,"origin":"60.207.237.16","url":"http://httpbin.org/post"}```

ä»¥ä¸Šçœç•¥éƒ¨åˆ†å†…å®¹ï¼Œè¿™ä¸ªç½‘ç«™ä¼šè¿”å›å“åº”ï¼Œé‡Œé¢åŒ…å« files è¿™ä¸ªå­—æ®µï¼Œè€Œ form å­—æ®µæ˜¯ç©ºçš„ï¼Œè¿™è¯æ˜æ–‡ä»¶ä¸Šä¼ éƒ¨åˆ†ä¼šå•ç‹¬æœ‰ä¸€ä¸ª files å­—æ®µæ¥æ ‡è¯†ã€‚

#### 2. Cookies
å‰é¢æˆ‘ä»¬ä½¿ç”¨ urllib å¤„ç†è¿‡ Cookiesï¼Œå†™æ³•æ¯”è¾ƒå¤æ‚ï¼Œè€Œæœ‰äº† requestsï¼Œè·å–å’Œè®¾ç½® Cookies åªéœ€ä¸€æ­¥å³å¯å®Œæˆã€‚

æˆ‘ä»¬å…ˆç”¨ä¸€ä¸ªå®ä¾‹çœ‹ä¸€ä¸‹è·å– Cookies çš„è¿‡ç¨‹ï¼š

```python
import requests

r = requests.get('https://www.baidu.com')
print(r.cookies)
for key, value in r.cookies.items():
    print(key + '=' + value)
```
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
```python
<RequestsCookieJar[<Cookie BDORZ=27315 for .baidu.com/>, <Cookie __bsi=13533594356813414194_00_14_N_N_2_0303_C02F_N_N_N_0 for .www.baidu.com/>]>
BDORZ=27315
__bsi=13533594356813414194_00_14_N_N_2_0303_C02F_N_N_N_0
```

è¿™é‡Œæˆ‘ä»¬é¦–å…ˆè°ƒç”¨ cookies å±æ€§å³å¯æˆåŠŸå¾—åˆ° Cookiesï¼Œå¯ä»¥å‘ç°å®ƒæ˜¯ RequestCookieJar ç±»å‹ã€‚ç„¶åç”¨ items æ–¹æ³•å°†å…¶è½¬åŒ–ä¸ºå…ƒç»„ç»„æˆçš„åˆ—è¡¨ï¼Œéå†è¾“å‡ºæ¯ä¸€ä¸ª Cookie çš„åç§°å’Œå€¼ï¼Œå®ç° Cookie çš„éå†è§£æã€‚

å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ Cookie æ¥ç»´æŒç™»å½•çŠ¶æ€ï¼Œä¸‹é¢ä»¥çŸ¥ä¹ä¸ºä¾‹æ¥è¯´æ˜ã€‚é¦–å…ˆç™»å½•çŸ¥ä¹ï¼Œå°† Headers ä¸­çš„ Cookie å†…å®¹å¤åˆ¶ä¸‹æ¥ï¼Œå¦‚å›¾ 3-6 æ‰€ç¤ºã€‚

![](./assets/3-6.png)
å›¾ 3-6ã€€Cookie

è¿™é‡Œå¯ä»¥æ›¿æ¢æˆä½ è‡ªå·±çš„ Cookieï¼Œå°†å…¶è®¾ç½®åˆ° Headers é‡Œé¢ï¼Œç„¶åå‘é€è¯·æ±‚ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

headers = {
    'Cookie': 'q_c1=31653b264a074fc9a57816d1ea93ed8b|1474273938000|1474273938000; d_c0="AGDAs254kAqPTr6NW1U3XTLFzKhMPQ6H_nc=|1474273938"; __utmv=51854390.100-1|2=registration_date=20130902=1^3=entry_date=20130902=1;a_t="2.0AACAfbwdAAAXAAAAso0QWAAAgH28HQAAAGDAs254kAoXAAAAYQJVTQ4FCVgA360us8BAklzLYNEHUd6kmHtRQX5a6hiZxKCynnycerLQ3gIkoJLOCQ==";z_c0=Mi4wQUFDQWZid2RBQUFBWU1DemJuaVFDaGNBQUFCaEFsVk5EZ1VKV0FEZnJTNnp3RUNTWE10ZzBRZFIzcVNZZTFGQmZn|1474887858|64b4d4234a21de774c42c837fe0b672fdb5763b0',
    'Host': 'www.zhihu.com',
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36',
}
r = requests.get('https://www.zhihu.com', headers=headers)
print(r.text)
```

æˆ‘ä»¬å‘ç°ï¼Œç»“æœä¸­åŒ…å«äº†ç™»å½•åçš„ç»“æœï¼Œå¦‚å›¾ 3-7 æ‰€ç¤ºï¼Œè¿™è¯æ˜ç™»å½•æˆåŠŸã€‚

![](/assets/3-7.jpg)

å›¾ 3-7ã€€è¿è¡Œç»“æœ

å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ cookies å‚æ•°æ¥è®¾ç½®ï¼Œä¸è¿‡è¿™æ ·å°±éœ€è¦æ„é€  RequestsCookieJar å¯¹è±¡ï¼Œè€Œä¸”éœ€è¦åˆ†å‰²ä¸€ä¸‹ cookiesã€‚è¿™ç›¸å¯¹çƒ¦çï¼Œä¸è¿‡æ•ˆæœæ˜¯ç›¸åŒçš„ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

cookies = 'q_c1=31653b264a074fc9a57816d1ea93ed8b|1474273938000|1474273938000; d_c0="AGDAs254kAqPTr6NW1U3XTLFzKhMPQ6H_nc=|1474273938"; __utmv=51854390.100-1|2=registration_date=20130902=1^3=entry_date=20130902=1;a_t="2.0AACAfbwdAAAXAAAAso0QWAAAgH28HQAAAGDAs254kAoXAAAAYQJVTQ4FCVgA360us8BAklzLYNEHUd6kmHtRQX5a6hiZxKCynnycerLQ3gIkoJLOCQ==";z_c0=Mi4wQUFDQWZid2RBQUFBWU1DemJuaVFDaGNBQUFCaEFsVk5EZ1VKV0FEZnJTNnp3RUNTWE10ZzBRZFIzcVNZZTFGQmZn|1474887858|64b4d4234a21de774c42c837fe0b672fdb5763b0'
jar = requests.cookies.RequestsCookieJar()
headers = {
    'Host': 'www.zhihu.com',
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36'
}
for cookie in cookies.split(';'):
    key, value = cookie.split('=', 1)
    jar.set(key, value)
r = requests.get('http://www.zhihu.com', cookies=jar, headers=headers)
print(r.text)
```

è¿™é‡Œæˆ‘ä»¬é¦–å…ˆæ–°å»ºäº†ä¸€ä¸ª RequestCookieJar å¯¹è±¡ï¼Œç„¶åå°†å¤åˆ¶ä¸‹æ¥çš„ cookies åˆ©ç”¨ split æ–¹æ³•åˆ†å‰²ï¼Œæ¥ç€åˆ©ç”¨ set æ–¹æ³•è®¾ç½®å¥½æ¯ä¸ª Cookie çš„ key å’Œ valueï¼Œç„¶åé€šè¿‡è°ƒç”¨ requests çš„ get() æ–¹æ³•å¹¶ä¼ é€’ç»™ cookies å‚æ•°å³å¯ã€‚å½“ç„¶ï¼Œç”±äºçŸ¥ä¹æœ¬èº«çš„é™åˆ¶ï¼Œheaders å‚æ•°ä¹Ÿä¸èƒ½å°‘ï¼Œåªä¸è¿‡ä¸éœ€è¦åœ¨åŸæ¥çš„ headers å‚æ•°é‡Œé¢è®¾ç½® cookie å­—æ®µäº†ã€‚

æµ‹è¯•åï¼Œå‘ç°åŒæ ·å¯ä»¥æ­£å¸¸ç™»å½•çŸ¥ä¹ã€‚

#### 3. ä¼šè¯ç»´æŒ
åœ¨ requests ä¸­ï¼Œå¦‚æœç›´æ¥åˆ©ç”¨ get æˆ– post ç­‰æ–¹æ³•çš„ç¡®å¯ä»¥åšåˆ°æ¨¡æ‹Ÿç½‘é¡µçš„è¯·æ±‚ï¼Œä½†æ˜¯è¿™å®é™…ä¸Šæ˜¯ç›¸å½“äºä¸åŒçš„ä¼šè¯ï¼Œä¹Ÿå°±æ˜¯è¯´ç›¸å½“äºä½ ç”¨äº†ä¸¤ä¸ªæµè§ˆå™¨æ‰“å¼€äº†ä¸åŒçš„é¡µé¢ã€‚

è®¾æƒ³è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œç¬¬ä¸€ä¸ªè¯·æ±‚åˆ©ç”¨ post æ–¹æ³•ç™»å½•äº†æŸä¸ªç½‘ç«™ï¼Œç¬¬äºŒæ¬¡æƒ³è·å–æˆåŠŸç™»å½•åçš„è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œä½ åˆç”¨äº†ä¸€æ¬¡ get æ–¹æ³•å»è¯·æ±‚ä¸ªäººä¿¡æ¯é¡µé¢ã€‚å®é™…ä¸Šï¼Œè¿™ç›¸å½“äºæ‰“å¼€äº†ä¸¤ä¸ªæµè§ˆå™¨ï¼Œæ˜¯ä¸¤ä¸ªå®Œå…¨ä¸ç›¸å…³çš„ä¼šè¯ï¼Œèƒ½æˆåŠŸè·å–ä¸ªäººä¿¡æ¯å—ï¼Ÿé‚£å½“ç„¶ä¸èƒ½ã€‚

æœ‰å°ä¼™ä¼´å¯èƒ½è¯´äº†ï¼Œæˆ‘åœ¨ä¸¤æ¬¡è¯·æ±‚æ—¶è®¾ç½®ä¸€æ ·çš„ cookies ä¸å°±è¡Œäº†ï¼Ÿå¯ä»¥ï¼Œä½†è¿™æ ·åšèµ·æ¥æ˜¾å¾—å¾ˆçƒ¦çï¼Œæˆ‘ä»¬æœ‰æ›´ç®€å•çš„è§£å†³æ–¹æ³•ã€‚

å…¶å®è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸»è¦æ–¹æ³•å°±æ˜¯ç»´æŒåŒä¸€ä¸ªä¼šè¯ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæ‰“å¼€ä¸€ä¸ªæ–°çš„æµè§ˆå™¨é€‰é¡¹å¡è€Œä¸æ˜¯æ–°å¼€ä¸€ä¸ªæµè§ˆå™¨ã€‚ä½†æ˜¯æˆ‘åˆä¸æƒ³æ¯æ¬¡è®¾ç½® cookiesï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶å€™å°±æœ‰äº†æ–°çš„åˆ©å™¨ â€”â€”Session å¯¹è±¡ã€‚

åˆ©ç”¨å®ƒï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°ç»´æŠ¤ä¸€ä¸ªä¼šè¯ï¼Œè€Œä¸”ä¸ç”¨æ‹…å¿ƒ cookies çš„é—®é¢˜ï¼Œå®ƒä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å¤„ç†å¥½ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

requests.get('http://httpbin.org/cookies/set/number/123456789')
r = requests.get('http://httpbin.org/cookies')
print(r.text)
```

è¿™é‡Œæˆ‘ä»¬è¯·æ±‚äº†ä¸€ä¸ªæµ‹è¯•ç½‘å€ [http://httpbin.org/cookies/set/number/123456789](http://httpbin.org/cookies/set/number/123456789)ã€‚è¯·æ±‚è¿™ä¸ªç½‘å€æ—¶ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ª cookieï¼Œåç§°å«ä½œ numberï¼Œå†…å®¹æ˜¯ 123456789ï¼Œéšååˆè¯·æ±‚äº† [http://httpbin.org/cookies](http://httpbin.org/cookies)ï¼Œæ­¤ç½‘å€å¯ä»¥è·å–å½“å‰çš„ Cookiesã€‚

è¿™æ ·èƒ½æˆåŠŸè·å–åˆ°è®¾ç½®çš„ Cookies å—ï¼Ÿè¯•è¯•çœ‹ã€‚

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

{"cookies": {}  
}

è¿™å¹¶ä¸è¡Œã€‚æˆ‘ä»¬å†ç”¨ Session è¯•è¯•çœ‹ï¼š

```python
import requests

s = requests.Session()
s.get('http://httpbin.org/cookies/set/number/123456789')
r = s.get('http://httpbin.org/cookies')
print(r.text)
```
å†çœ‹ä¸‹è¿è¡Œç»“æœï¼š
```python
{
  "cookies": {"number": "123456789"}
}
```

æˆåŠŸè·å–ï¼è¿™ä¸‹èƒ½ä½“ä¼šåˆ°åŒä¸€ä¸ªä¼šè¯å’Œä¸åŒä¼šè¯çš„åŒºåˆ«äº†å§ï¼

æ‰€ä»¥ï¼Œåˆ©ç”¨ Sessionï¼Œå¯ä»¥åšåˆ°æ¨¡æ‹ŸåŒä¸€ä¸ªä¼šè¯è€Œä¸ç”¨æ‹…å¿ƒ Cookies çš„é—®é¢˜ã€‚å®ƒé€šå¸¸ç”¨äºæ¨¡æ‹Ÿç™»å½•æˆåŠŸä¹‹åå†è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œã€‚

Session åœ¨å¹³å¸¸ç”¨å¾—éå¸¸å¹¿æ³›ï¼Œå¯ä»¥ç”¨äºæ¨¡æ‹Ÿåœ¨ä¸€ä¸ªæµè§ˆå™¨ä¸­æ‰“å¼€åŒä¸€ç«™ç‚¹çš„ä¸åŒé¡µé¢ï¼Œåé¢ä¼šæœ‰ä¸“é—¨çš„ç« èŠ‚æ¥è®²è§£è¿™éƒ¨åˆ†å†…å®¹ã€‚

#### 4. SSL è¯ä¹¦éªŒè¯

æ­¤å¤–ï¼Œrequests è¿˜æä¾›äº†è¯ä¹¦éªŒè¯çš„åŠŸèƒ½ã€‚å½“å‘é€ HTTP è¯·æ±‚çš„æ—¶å€™ï¼Œå®ƒä¼šæ£€æŸ¥ SSL è¯ä¹¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ verify å‚æ•°æ§åˆ¶æ˜¯å¦æ£€æŸ¥æ­¤è¯ä¹¦ã€‚å…¶å®å¦‚æœä¸åŠ  verify å‚æ•°çš„è¯ï¼Œé»˜è®¤æ˜¯ Trueï¼Œä¼šè‡ªåŠ¨éªŒè¯ã€‚

å‰é¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œ12306 çš„è¯ä¹¦æ²¡æœ‰è¢«å®˜æ–¹ CA æœºæ„ä¿¡ä»»ï¼Œä¼šå‡ºç°è¯ä¹¦éªŒè¯é”™è¯¯çš„ç»“æœã€‚æˆ‘ä»¬ç°åœ¨è®¿é—®å®ƒï¼Œéƒ½å¯ä»¥çœ‹åˆ°ä¸€ä¸ªè¯ä¹¦é—®é¢˜çš„é¡µé¢ï¼Œå¦‚å›¾ 3-8 æ‰€ç¤ºã€‚

![](/assets/3-8.png)

å›¾ 3-8 é”™è¯¯é¡µé¢

ç°åœ¨æˆ‘ä»¬ç”¨ requests æ¥æµ‹è¯•ä¸€ä¸‹ï¼š

```python
import requests

response = requests.get('https://www.12306.cn')
print(response.status_code)
```
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
```python
requests.exceptions.SSLError: ("bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)",)
```
è¿™é‡Œæç¤ºä¸€ä¸ªé”™è¯¯ SSLErrorï¼Œè¡¨ç¤ºè¯ä¹¦éªŒè¯é”™è¯¯ã€‚æ‰€ä»¥ï¼Œå¦‚æœè¯·æ±‚ä¸€ä¸ª HTTPS ç«™ç‚¹ï¼Œä½†æ˜¯è¯ä¹¦éªŒè¯é”™è¯¯çš„é¡µé¢æ—¶ï¼Œå°±ä¼šæŠ¥è¿™æ ·çš„é”™è¯¯ï¼Œé‚£ä¹ˆå¦‚ä½•é¿å…è¿™ä¸ªé”™è¯¯å‘¢ï¼Ÿå¾ˆç®€å•ï¼ŒæŠŠ verify å‚æ•°è®¾ç½®ä¸º False å³å¯ã€‚ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š
```python
import requests

response = requests.get('https://www.12306.cn', verify=False)
print(response.status_code)
```
è¿™æ ·å°±ä¼šæ‰“å°å‡ºè¯·æ±‚æˆåŠŸçš„çŠ¶æ€ç ï¼š
```python
/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning)
200
```
ä¸è¿‡æˆ‘ä»¬å‘ç°æŠ¥äº†ä¸€ä¸ªè­¦å‘Šï¼Œå®ƒå»ºè®®æˆ‘ä»¬ç»™å®ƒæŒ‡å®šè¯ä¹¦ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®å¿½ç•¥è­¦å‘Šçš„æ–¹å¼æ¥å±è”½è¿™ä¸ªè­¦å‘Šï¼š
```python
import requests
from requests.packages import urllib3

urllib3.disable_warnings()
response = requests.get('https://www.12306.cn', verify=False)
print(response.status_code)
```
æˆ–è€…é€šè¿‡æ•è·è­¦å‘Šåˆ°æ—¥å¿—çš„æ–¹å¼å¿½ç•¥è­¦å‘Šï¼š
```python
import logging
import requests
logging.captureWarnings(True)
response = requests.get('https://www.12306.cn', verify=False)
print(response.status_code)
```
å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªæœ¬åœ°è¯ä¹¦ç”¨ä½œå®¢æˆ·ç«¯è¯ä¹¦ï¼Œè¿™å¯ä»¥æ˜¯å•ä¸ªæ–‡ä»¶ï¼ˆåŒ…å«å¯†é’¥å’Œè¯ä¹¦ï¼‰æˆ–ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ–‡ä»¶è·¯å¾„çš„å…ƒç»„ï¼š
```python
import requests

response = requests.get('https://www.12306.cn', cert=('/path/server.crt', '/path/key'))
print(response.status_code)
```

å½“ç„¶ï¼Œä¸Šé¢çš„ä»£ç æ˜¯æ¼”ç¤ºå®ä¾‹ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ crt å’Œ key æ–‡ä»¶ï¼Œå¹¶ä¸”æŒ‡å®šå®ƒä»¬çš„è·¯å¾„ã€‚æ³¨æ„ï¼Œæœ¬åœ°ç§æœ‰è¯ä¹¦çš„ key å¿…é¡»æ˜¯è§£å¯†çŠ¶æ€ï¼ŒåŠ å¯†çŠ¶æ€çš„ key æ˜¯ä¸æ”¯æŒçš„ã€‚

#### 5. ä»£ç†è®¾ç½®

å¯¹äºæŸäº›ç½‘ç«™ï¼Œåœ¨æµ‹è¯•çš„æ—¶å€™è¯·æ±‚å‡ æ¬¡ï¼Œèƒ½æ­£å¸¸è·å–å†…å®¹ã€‚ä½†æ˜¯ä¸€æ—¦å¼€å§‹å¤§è§„æ¨¡çˆ¬å–ï¼Œå¯¹äºå¤§è§„æ¨¡ä¸”é¢‘ç¹çš„è¯·æ±‚ï¼Œç½‘ç«™å¯èƒ½ä¼šå¼¹å‡ºéªŒè¯ç ï¼Œæˆ–è€…è·³è½¬åˆ°ç™»å½•è®¤è¯é¡µé¢ï¼Œæ›´ç”šè€…å¯èƒ½ä¼šç›´æ¥å°ç¦å®¢æˆ·ç«¯çš„ IPï¼Œå¯¼è‡´ä¸€å®šæ—¶é—´æ®µå†…æ— æ³•è®¿é—®ã€‚

é‚£ä¹ˆï¼Œä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä»£ç†æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™å°±éœ€è¦ç”¨åˆ° proxies å‚æ•°ã€‚å¯ä»¥ç”¨è¿™æ ·çš„æ–¹å¼è®¾ç½®ï¼š

```python
import requests

proxies = {
  'http': 'http://10.10.1.10:3128',
  'https': 'http://10.10.1.10:1080',
}

requests.get('https://www.taobao.com', proxies=proxies)
```

å½“ç„¶ï¼Œç›´æ¥è¿è¡Œè¿™ä¸ªå®ä¾‹å¯èƒ½ä¸è¡Œï¼Œå› ä¸ºè¿™ä¸ªä»£ç†å¯èƒ½æ˜¯æ— æ•ˆçš„ï¼Œè¯·æ¢æˆè‡ªå·±çš„æœ‰æ•ˆä»£ç†è¯•éªŒä¸€ä¸‹ã€‚

è‹¥ä»£ç†éœ€è¦ä½¿ç”¨ HTTP Basic Authï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼ http://user:password@host:port è¿™æ ·çš„è¯­æ³•æ¥è®¾ç½®ä»£ç†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

proxies = {'https': 'http://user:password@10.10.1.10:3128/',}
requests.get('https://www.taobao.com', proxies=proxies)
```

é™¤äº†åŸºæœ¬çš„ HTTP ä»£ç†å¤–ï¼Œrequests è¿˜æ”¯æŒ SOCKS åè®®çš„ä»£ç†ã€‚

é¦–å…ˆï¼Œéœ€è¦å®‰è£… socks è¿™ä¸ªåº“ï¼š

```
pip3 install"requests[socks]"
```

ç„¶åå°±å¯ä»¥ä½¿ç”¨ SOCKS åè®®ä»£ç†äº†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

proxies = {
    'http': 'socks5://user:password@host:port',
    'https': 'socks5://user:password@host:port'
}
requests.get('https://www.taobao.com', proxies=proxies)
```

#### 6. è¶…æ—¶è®¾ç½®

åœ¨æœ¬æœºç½‘ç»œçŠ¶å†µä¸å¥½æˆ–è€…æœåŠ¡å™¨ç½‘ç»œå“åº”å¤ªæ…¢ç”šè‡³æ— å“åº”æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç­‰å¾…ç‰¹åˆ«ä¹…çš„æ—¶é—´æ‰å¯èƒ½æ”¶åˆ°å“åº”ï¼Œç”šè‡³åˆ°æœ€åæ”¶ä¸åˆ°å“åº”è€ŒæŠ¥é”™ã€‚ä¸ºäº†é˜²æ­¢æœåŠ¡å™¨ä¸èƒ½åŠæ—¶å“åº”ï¼Œåº”è¯¥è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œå³è¶…è¿‡äº†è¿™ä¸ªæ—¶é—´è¿˜æ²¡æœ‰å¾—åˆ°å“åº”ï¼Œé‚£å°±æŠ¥é”™ã€‚è¿™éœ€è¦ç”¨åˆ° timeout å‚æ•°ã€‚è¿™ä¸ªæ—¶é—´çš„è®¡ç®—æ˜¯å‘å‡ºè¯·æ±‚åˆ°æœåŠ¡å™¨è¿”å›å“åº”çš„æ—¶é—´ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests

r = requests.get('https://www.taobao.com', timeout=1)
print(r.status_code)
```

é€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¶…æ—¶æ—¶é—´è®¾ç½®ä¸º 1 ç§’ï¼Œå¦‚æœ 1 ç§’å†…æ²¡æœ‰å“åº”ï¼Œé‚£å°±æŠ›å‡ºå¼‚å¸¸ã€‚

å®é™…ä¸Šï¼Œè¯·æ±‚åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œå³è¿æ¥ï¼ˆconnectï¼‰å’Œè¯»å–ï¼ˆreadï¼‰ã€‚

ä¸Šé¢è®¾ç½®çš„ timeout å°†ç”¨ä½œè¿æ¥å’Œè¯»å–è¿™äºŒè€…çš„ timeout æ€»å’Œã€‚

å¦‚æœè¦åˆ†åˆ«æŒ‡å®šï¼Œå°±å¯ä»¥ä¼ å…¥ä¸€ä¸ªå…ƒç»„ï¼š

```python
r = requests.get('https://www.taobao.com', timeout=(5, 30))
```
å¦‚æœæƒ³æ°¸ä¹…ç­‰å¾…ï¼Œå¯ä»¥ç›´æ¥å°† timeout è®¾ç½®ä¸º Noneï¼Œæˆ–è€…ä¸è®¾ç½®ç›´æ¥ç•™ç©ºï¼Œå› ä¸ºé»˜è®¤æ˜¯ Noneã€‚è¿™æ ·çš„è¯ï¼Œå¦‚æœæœåŠ¡å™¨è¿˜åœ¨è¿è¡Œï¼Œä½†æ˜¯å“åº”ç‰¹åˆ«æ…¢ï¼Œé‚£å°±æ…¢æ…¢ç­‰å§ï¼Œå®ƒæ°¸è¿œä¸ä¼šè¿”å›è¶…æ—¶é”™è¯¯çš„ã€‚å…¶ç”¨æ³•å¦‚ä¸‹ï¼š
```python
r = requests.get('https://www.taobao.com', timeout=None)
```
æˆ–ç›´æ¥ä¸åŠ å‚æ•°ï¼š
```python
r = requests.get('https://www.taobao.com')
```

#### 7. èº«ä»½è®¤è¯

åœ¨è®¿é—®ç½‘ç«™æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„è®¤è¯é¡µé¢ï¼Œå¦‚å›¾ 3-9 æ‰€ç¤ºã€‚

![](./assets/3-9.jpg)

å›¾ 3-9ã€€è®¤è¯é¡µé¢

æ­¤æ—¶å¯ä»¥ä½¿ç”¨ requests è‡ªå¸¦çš„èº«ä»½è®¤è¯åŠŸèƒ½ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```python
import requests  
from requests.auth import HTTPBasicAuth  

r = requests.get('http://localhost:5000', auth=HTTPBasicAuth('username', 'password'))  
print(r.status_code)
```

å¦‚æœç”¨æˆ·åå’Œå¯†ç æ­£ç¡®çš„è¯ï¼Œè¯·æ±‚æ—¶å°±ä¼šè‡ªåŠ¨è®¤è¯æˆåŠŸï¼Œä¼šè¿”å› 200 çŠ¶æ€ç ï¼›å¦‚æœè®¤è¯å¤±è´¥ï¼Œåˆ™è¿”å› 401 çŠ¶æ€ç ã€‚

å½“ç„¶ï¼Œå¦‚æœå‚æ•°éƒ½ä¼ ä¸€ä¸ª HTTPBasicAuth ç±»ï¼Œå°±æ˜¾å¾—æœ‰ç‚¹çƒ¦çäº†ï¼Œæ‰€ä»¥ requests æä¾›äº†ä¸€ä¸ªæ›´ç®€å•çš„å†™æ³•ï¼Œå¯ä»¥ç›´æ¥ä¼ ä¸€ä¸ªå…ƒç»„ï¼Œå®ƒä¼šé»˜è®¤ä½¿ç”¨ HTTPBasicAuth è¿™ä¸ªç±»æ¥è®¤è¯ã€‚

æ‰€ä»¥ä¸Šé¢çš„ä»£ç å¯ä»¥ç›´æ¥ç®€å†™å¦‚ä¸‹ï¼š

```python
import requests

r = requests.get('http://localhost:5000', auth=('username', 'password'))
print(r.status_code)
```
æ­¤å¤–ï¼Œrequests è¿˜æä¾›äº†å…¶ä»–è®¤è¯æ–¹å¼ï¼Œå¦‚ OAuth è®¤è¯ï¼Œä¸è¿‡æ­¤æ—¶éœ€è¦å®‰è£… oauth åŒ…ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š
```
pip3 install requests_oauthlib
```
ä½¿ç”¨ OAuth1 è®¤è¯çš„æ–¹æ³•å¦‚ä¸‹ï¼š
```python
import requests
from requests_oauthlib import OAuth1

url = 'https://api.twitter.com/1.1/account/verify_credentials.json'
auth = OAuth1('YOUR_APP_KEY', 'YOUR_APP_SECRET',
              'USER_OAUTH_TOKEN', 'USER_OAUTH_TOKEN_SECRET')
requests.get(url, auth=auth)
```

æ›´å¤šè¯¦ç»†çš„åŠŸèƒ½å°±å¯ä»¥å‚è€ƒ requests_oauthlib çš„å®˜æ–¹æ–‡æ¡£ï¼š[https://requests-oauthlib.readthedocs.org/](https://requests-oauthlib.readthedocs.org/)ï¼Œåœ¨æ­¤å°±ä¸å†èµ˜è¿°äº†ã€‚

#### 8. Prepared Request

å‰é¢ä»‹ç» urllib æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¯·æ±‚è¡¨ç¤ºä¸ºæ•°æ®ç»“æ„ï¼Œå…¶ä¸­å„ä¸ªå‚æ•°éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ª Request å¯¹è±¡æ¥è¡¨ç¤ºã€‚è¿™åœ¨ requests é‡ŒåŒæ ·å¯ä»¥åšåˆ°ï¼Œè¿™ä¸ªæ•°æ®ç»“æ„å°±å« Prepared Requestã€‚æˆ‘ä»¬ç”¨å®ä¾‹çœ‹ä¸€ä¸‹ï¼š

```python
from requests import Request, Session

url = 'http://httpbin.org/post'
data = {'name': 'germey'}
headers = {'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36'
}
s = Session()
req = Request('POST', url, data=data, headers=headers)
prepped = s.prepare_request(req)
r = s.send(prepped)
print(r.text)
```
è¿™é‡Œæˆ‘ä»¬å¼•å…¥äº† Requestï¼Œç„¶åç”¨ urlã€data å’Œ headers å‚æ•°æ„é€ äº†ä¸€ä¸ª Request å¯¹è±¡ï¼Œè¿™æ—¶éœ€è¦å†è°ƒç”¨ Session çš„ prepare_request æ–¹æ³•å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª Prepared Request å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ send æ–¹æ³•å‘é€å³å¯ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š
```json
{"args": {}, 
  "data": "","files": {},"form": {"name":"germey"},"headers": {"Accept":"*/*","Accept-Encoding":"gzip, deflate","Connection":"close","Content-Length":"11","Content-Type":"application/x-www-form-urlencoded","Host":"httpbin.org","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36"},"json": null,"origin":"182.32.203.166","url":"http://httpbin.org/post"}```

å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è¾¾åˆ°äº†åŒæ ·çš„ POST è¯·æ±‚æ•ˆæœã€‚

æœ‰äº† Request è¿™ä¸ªå¯¹è±¡ï¼Œå°±å¯ä»¥å°†è¯·æ±‚å½“ä½œç‹¬ç«‹çš„å¯¹è±¡æ¥çœ‹å¾…ï¼Œè¿™æ ·åœ¨è¿›è¡Œé˜Ÿåˆ—è°ƒåº¦æ—¶ä¼šéå¸¸æ–¹ä¾¿ã€‚åé¢æˆ‘ä»¬ä¼šç”¨å®ƒæ¥æ„é€ ä¸€ä¸ª Request é˜Ÿåˆ—ã€‚

æœ¬èŠ‚è®²è§£äº† requests çš„ä¸€äº›é«˜çº§ç”¨æ³•ï¼Œè¿™äº›ç”¨æ³•åœ¨åé¢å®æˆ˜éƒ¨åˆ†ä¼šç»å¸¸ç”¨åˆ°ï¼Œéœ€è¦ç†Ÿç»ƒæŒæ¡ã€‚

æ›´å¤šçš„ç”¨æ³•å¯ä»¥å‚è€ƒ Requests çš„å®˜æ–¹æ–‡æ¡£ï¼š[http://docs.python-requests.org/](http://docs.python-requests.org/)ã€‚
